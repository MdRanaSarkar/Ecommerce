{% load static %}
<section class="mt-4 swiper myCatSwiper">
  <div class="swiper-wrapper">
    {% for category in categories %}
    <div class="swiper-slide">
      <a href="{% url 'products:category_filter' category.slug %}" class=" flex flex-col  items-center justify-center space-y-4 h-32 p-4">
        {% if category.img_url %}

        {% comment %} <object data="{{ category.img_url }}" type="image/svg+xml" width="50" height="50"
          aria-label="{{ category.name }} illustration" title="{{ category.name }}">
          <span class="type-base--url text-center line-clamp-1 flex-nowrap">{{ category.title }}</span>
        </object> {% endcomment %}

        <img src="{{ category.img_url }}" width="50" height="50" alt="">

        <span class="type-base--url text-center line-clamp-1 flex-nowrap">{{ category.title }}</span>
        {% else %}
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon--md">
          <path fill-rule="evenodd"
            d="M3 6a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3V6ZM3 15.75a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-2.25Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3v-2.25Z"
            clip-rule="evenodd" />
        </svg>
        <span class="type-base--url text-center line-clamp-1 flex-nowrap">{{ category.title }}</span>
        {% endif %}
      </a>
    </div>
    {% endfor %}
  </div>
  <!-- Navigation buttons -->
  <div class="cat-swiper-button-prev">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="arrow-icon">
      <path d="M15.41 16.58L10.83 12l4.58-4.58L14 6l-6 6 6 6z" />
    </svg>
  </div>
  <div class="cat-swiper-button-next">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="arrow-icon">
      <path d="M8.59 16.58L13.17 12 8.59 7.42 10 6l6 6-6 6z" />
    </svg>
  </div>
</section>

<!-- Add Swiper.js script -->
{% comment %} <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script> {% endcomment %}

<script src="{%static ''%}plugins/js/swiper-bundle.min.js"></script>

<script>
  const cat_swiper = new Swiper('.myCatSwiper', {
    slidesPerView: 6,
    spaceBetween: 16,
    navigation: {
      nextEl: '.cat-swiper-button-next',
      prevEl: '.cat-swiper-button-prev',
    },
    breakpoints: {
      320: { slidesPerView: 2, spaceBetween: 8 },
      640: { slidesPerView: 3, spaceBetween: 12 },
      1024: { slidesPerView: 6, spaceBetween: 16 },
      1440: { slidesPerView: 8, spaceBetween: 20 },
    },
  });
</script>

<style>
  .swiper {
    width: 100%;
    padding: 20px 0;
  }

  .swiper-slide {
    text-align: center;
    font-size: 16px;
   /* background: #f9f9f9; */
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .swiper-slide:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
  }

  .swiper-slide a {
    text-decoration: none;
    color: inherit;
  }

  .swiper-slide svg {
    width: 50px;
    height: 50px;
  }

  .swiper-slide span {
    font-weight: 500;

  }

  .cat-swiper-button-next,
  .cat-swiper-button-prev {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    background: rgba(255, 255, 255, 0.8);
    padding: 10px;
    border-radius: 50%;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: background 0.3s ease, transform 0.3s ease;
  }

  .cat-swiper-button-next:hover,
  .cat-swiper-button-prev:hover {
    background: #333;
    color: #fff;

  }

  .cat-swiper-button-next {
    right: 10px;
  }

  .cat-swiper-button-prev {
    left: 10px;
  }

  .arrow-icon {
    width: 24px;
    height: 24px;
    fill: #555;
  }

  .cat-swiper-button-next:hover .arrow-icon,
  .cat-swiper-button-prev:hover .arrow-icon {
    fill: #fff;
  }
</style>
